<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="SimonXie的博客"><meta name="keyword" content="SimonXie"><link rel="shortcut icon" href="/img/favicon.ico"><title> 关于linux分区占用的疑问? - SimonXie的博客 | SimonXie&#39;s Blog</title><link rel="stylesheet" href="/css/aircloud.css"><link rel="stylesheet" href="/css/gitment.css"><link href="//at.alicdn.com/t/font_620856_pl6z7sid89qkt9.css" rel="stylesheet" type="text/css"><script></script></head><body><div class="site-nav-toggle" id="site-nav-toggle"> <button><span class="btn-bar"></span><span class="btn-bar"></span><span class="btn-bar"></span></button></div><div class="index-about"> <i>All magic comess with a price.</i></div><div class="index-container"><div class="index-left"><div class="nav" id="nav"><div class="avatar-name"><div class="avatar"> <img src="/img/avatar.jpg"></div><div class="name"> <i>Simon Xie</i></div></div><div class="contents" id="nav-content"><ul><li><a href="/"><i class="iconfont icon-shouye1"></i> <span>HOME</span></a></li><li><a href="/tags"><i class="iconfont icon-biaoqian1"></i> <span>TAGS</span></a></li><li><a href="/archives"><i class="iconfont icon-guidang2"></i> <span>ARCHIVES</span></a></li><li><a href="/about/"><i class="iconfont icon-guanyu2"></i> <span>ABOUT</span></a></li><li><a id="search"><i class="iconfont icon-sousuo1"></i> <span>SEARCH</span></a></li></ul></div><div id="toc" class="toc-article"></div></div><div class="search-field" id="search-field"><div class="search-container"><div class="search-input"><span id="esc-search"><i class="icon-fanhui iconfont"></i></span> <input id="search-input"> <span id="begin-search">search</span></div><div class="search-result-container" id="search-result-container"></div></div></div><div class="index-about-mobile"> <i>All magic comess with a price.</i></div></div><div class="index-middle"><div class="post-container"><div class="post-title"> 关于linux分区占用的疑问?</div><div class="post-meta"> <span class="attr">Post：<span>2013-10-20 14:00:26</span></span> <span class="attr">Tags：/ <a class="tag" href="/tags/#linux" title="linux">linux</a> <span>/</span> <a class="tag" href="/tags/#分区" title="分区">分区</a> <span>/</span></span> <span class="attr">Visit：<span id="busuanzi_value_page_pv"></span></span></div><div class="post-content"><p>答案为:朱焕杰 的回答， <strong>mount挂载的时候原来该目录下的文件被隐藏，显示为挂上去的分区内容。umount以后原来的内容又会出现。</strong> 经我自己测试这是正确的。umount之后，显示以前的内容。删除之，就释放空间了，之后remount到新分区就ok。</p><blockquote><p>问题具体描述见 <a href="http://www.zhihu.com/question/21850399" title="关于linux分区占用的疑问?" target="_blank" rel="noopener">知乎</a> 假设有500G硬盘sda分区如下： sda1 =&gt; / 19G sda2 =&gt; /boot 1G 共分配20G， 磁盘剩余480G未分配，安装完系统共占5G（假设）。其余为未分区空间。 经一段时间使用占用情况假设如下： /var 增至5G /home 增至10G 其余占4G，这时共占用19G空间(根分区使用100%假设)。 这时磁盘使用情况如下： / sda1 使用19G /boot sda2 使用 1G 作出如下修改： 从未分配磁盘空间新增分区sda3 80G。 挂载到/home 新分区表为以及空间大小如下： /sda1 / =&gt; 19G /sda2 /boot =&gt; 1G /sda3 /home =&gt; 80G</p></blockquote><p>那么问题为：/ 的空间是否会因为home的移除(挂在到新分区)而使用量(文件的占用空间)减少？ 如果减少为什么？如果不减少又是为什么，怎么才能释放掉？ 新使用情况是否会变为: sda1 / 9G sda2 /boot 1G sda3 /home 10G 分区前后截图： 1) <a href="http://codewalker.me/wp-content/uploads/2013/10/11.png" target="_blank" rel="noopener"><img src="http://codewalker.me/wp-content/uploads/2013/10/11-300x35.png" alt="分区old"></a> 2) 这是重启后的截图，也就是/var 复制到/mnt/tmp 之后(也就是sdb7)，再把/var 挂在到这个分区后的截图，/ 分区空间未释放 <a href="http://codewalker.me/wp-content/uploads/2013/10/12.png" target="_blank" rel="noopener"><img src="http://codewalker.me/wp-content/uploads/2013/10/12-300x36.png" alt="分区new"></a></p><div class="donate-container"><div class="donate-button"> <button id="donate-button">donate</button></div><div class="donate-img-container hide" id="donate-img-container"> <img id="donate-img" src="" data-src="/img/donate.jpg"><p> 感谢鼓励</p></div></div><div id="comment-container"></div></div></div></div></div><footer class="footer"><ul class="list-inline text-center"><li><a target="_blank" href="https://twitter.com/codewalkertse"><span class="fa-stack fa-lg"><i class="iconfont icon-twitter"></i></span></a></li><li><a target="_blank" href="https://www.zhihu.com/people/vWi6q3a8"><span class="fa-stack fa-lg"><i class="iconfont icon-zhihu"></i></span></a></li><li><a target="_blank" href="http://weibo.com/206000504"><span class="fa-stack fa-lg"><i class="iconfont icon-weibo"></i></span></a></li><li><a target="_blank" href="https://www.facebook.com/codewalkerxie"><span class="fa-stack fa-lg"><i class="iconfont icon-facebook"></i></span></a></li><li><a target="_blank" href="https://github.com/codewalkertse"><span class="fa-stack fa-lg"><i class="iconfont icon-github"></i></span></a></li><li><a target="_blank" href="https://www.linkedin.com/in/simon-xie-11426829"><span class="fa-stack fa-lg"><i class="iconfont icon-linkedin"></i></span></a></li></ul><p> <span>/</span> <span><a href="https://codewalker.me">Old blog</a></span> <span>/</span></p><p><span id="busuanzi_container_site_pv"><span id="busuanzi_value_site_pv"></span> PV</span><span id="busuanzi_container_site_uv"><span id="busuanzi_value_site_uv"></span> UV</span> Drive by <a href="https://hexo.io/">Hexo</a> On <a href="https://www.github.com">GitHub</a> Theme <a href="https://github.com/aircloud/hexo-theme-aircloud">AirCloud</a></p></footer></body><script>window.hexo_search_path="search.json",window.hexo_root="/",window.isPost=!0</script><script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><script src="/js/index.js"></script><script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="/js/gitment.js"></script><script>var gitment=new Gitment({id:"关于linux分区占用的疑问?",owner:"codewalkertse",repo:"codewalkertse.github.io",oauth:{client_id:"3cabff4367aa2366b062",client_secret:"cbcd1c72612bd2e6c5a43b4b75d13a46b0d55d4b"}});gitment.render("comment-container")</script></html>